local var_0_0

if pcall(client.create_interface) then
	local var_0_1 = require("ffi")
	local var_0_2 = vtable_bind("vgui2.dll", "VGUI_System010", 7, "int(__thiscall*)(void*)")
	local var_0_3 = vtable_bind("vgui2.dll", "VGUI_System010", 9, "void(__thiscall*)(void*, const char*, int)")
	local var_0_4 = vtable_bind("vgui2.dll", "VGUI_System010", 11, "int(__thiscall*)(void*, int, const char*, int)")
	local var_0_5 = var_0_1.typeof("char[?]")

	function var_0_0()
		local var_1_0 = var_0_2()

		if var_1_0 > 0 then
			local var_1_1 = var_0_5(var_1_0)

			var_0_4(0, var_1_1, var_1_0)

			return var_0_1.string(var_1_1, var_1_0 - 1)
		end
	end
end

local var_0_6 = panorama.loadstring("\tvar panel_invite_all, panel_btn\n\n\tvar players = []\n\tvar refresh_handler\n\tvar refresh_button\n\tvar tooltip_visible = false\n\n\tvar collecting_players = false\n\tvar next_filter = {}\n\n\tvar _BuildPlayers = function(){\n\t\tif(!refresh_button.visible)\n\t\t\treturn\n\n\t\tvar count = PartyBrowserAPI.GetResultsCount()\n\t\tfor(i=0; i < count; i++){\n\t\t\tvar xuid = PartyBrowserAPI.GetXuidByIndex(i)\n\t\t\tif(!players.includes(xuid)){\n\t\t\t\tplayers.push(xuid)\n\t\t\t}\n\t\t}\n\t\tif(tooltip_visible){\n\t\t\t_HideTooltip()\n\t\t\t_ShowTooltip()\n\t\t}\n\t}\n\n\tvar _CollectPlayers = function(){\n\t\tcollecting_players = !collecting_players\n\n\t\tif(collecting_players){\n\t\t\tpanel_btn.style.backgroundColor = \"gradient(linear, 100% 0%, 0% 0%, from( #00000000), color-stop( 0, #95b80666 ), to( #95b806FF ));\"\n\t\t\tif(PartyBrowserAPI.GetProgress() == 100){\n\t\t\t\tPartyBrowserAPI.Refresh()\n\t\t\t}\n\t\t} else {\n\t\t\tpanel_btn.style.backgroundColor = null\n\t\t}\n\n\t\tif(tooltip_visible){\n\t\t\t_HideTooltip()\n\t\t\t_ShowTooltip()\n\t\t}\n\t}\n\n\tvar _PartyBrowserRefresh = function(){\n\t\t_BuildPlayers()\n\t\tif(collecting_players){\n\t\t\tif(tooltip_visible){\n\t\t\t\t_HideTooltip()\n\t\t\t\t_ShowTooltip()\n\t\t\t}\n\t\t\tif(PartyBrowserAPI.GetProgress() == 100){\n\t\t\t\tvar cur_filter = GameInterfaceAPI.GetSettingString('ui_nearbylobbies_filter')\n\t\t\t\tvar new_filter = next_filter[cur_filter]\n\n\t\t\t\tif(new_filter != null){\n\t\t\t\t\tGameInterfaceAPI.SetSettingString('ui_nearbylobbies_filter', new_filter)\n\t\t\t\t\tPartyBrowserAPI.SetSearchFilter(new_filter)\n\t\t\t\t\tPartyBrowserAPI.Refresh()\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tvar _InviteAll = function(){\n\t\tif(collecting_players){\n\t\t\t_CollectPlayers()\n\t\t}\n\t\t_BuildPlayers()\n\t\tplayers.forEach(function(player){\n\t\t\tFriendsListAPI.ActionInviteFriend(player, \"\")\n\t\t})\n\t}\n\n\tvar _ShowTooltip = function(){\n\t\t_BuildPlayers()\n\t\tif(collecting_players){\n\t\t\tvar game_mode_name = $.Localize(`#SFUI_GameMode_${GameInterfaceAPI.GetSettingString('ui_nearbylobbies_filter')}`)\n\t\t\tUiToolkitAPI.ShowTextTooltip('JsFriendsList-lobbies-toolbar-button-inviteall', `Left-click: Invite ${players.length} players\\nRight-click: Stop collecting\\n\\nCollecting players... \\n[${PartyBrowserAPI.GetProgress()}%] ${game_mode_name}`)\n\t\t} else {\n\t\t\tUiToolkitAPI.ShowTextTooltip('JsFriendsList-lobbies-toolbar-button-inviteall', `Left-click: Invite ${players.length} players\\nRight-click: Collect players`)\n\t\t}\n\t\ttooltip_visible = true\n\t}\n\n\tvar _HideTooltip = function(){\n\t\tUiToolkitAPI.HideTextTooltip()\n\t\ttooltip_visible = false\n\t}\n\n\tvar _Create = function(layout){\n\t\tvar panel_refresh = $.GetContextPanel().FindChildTraverse(\"JsFriendsList-lobbies-toolbar-button-refresh\")\n\t\tvar panel_parent = panel_refresh.GetParent()\n\n\t\tpanel_invite_all = $.CreatePanel('Button', panel_parent, 'InviteAllButton')\n\t\tif (panel_invite_all != null) {\n\t\t\tpanel_invite_all.SetParent(panel_parent)\n\t\t\tpanel_parent.MoveChildBefore(panel_invite_all, panel_refresh)\n\n\t\t\tif (panel_invite_all.BLoadLayoutFromString(layout, false, false)) {\n\t\t\t\tpanel_invite_all.visible = true\n\n\t\t\t\tpanel_btn = panel_invite_all.FindChildTraverse(\"JsFriendsList-lobbies-toolbar-button-inviteall\")\n\t\t\t\tif(panel_btn != null){\n\t\t\t\t\tpanel_btn.SetPanelEvent(\"onactivate\", _InviteAll)\n\t\t\t\t\tpanel_btn.SetPanelEvent(\"onmouseover\", _ShowTooltip)\n\t\t\t\t\tpanel_btn.SetPanelEvent(\"onmouseout\", _HideTooltip)\n\t\t\t\t\tpanel_btn.SetPanelEvent(\"oncontextmenu\", _CollectPlayers)\n\t\t\t\t}\n\n\t\t\t\tnext_filter = {}\n\t\t\t\tvar re = /^JsFriendsList-lobbies-toolbar-button-(.*)$/\n\t\t\t\tvar filters = []\n\n\t\t\t\tpanel_parent.Children().forEach(function(el){\n\t\t\t\t\tif(el.paneltype == \"RadioButton\" && el.group == \"JsFriendsList-lobbies-toolbar-button-modegroup\"){\n\t\t\t\t\t\tvar match = el.id.match(re)\n\t\t\t\t\t\tif(match){\n\t\t\t\t\t\t\tfilters.push(match[1])\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\n\t\t\t\tif(filters.length > 1){\n\t\t\t\t\tfor(i=0; i<filters.length-1; i++){\n\t\t\t\t\t\tnext_filter[ filters[i] ] = filters[i+1]\n\t\t\t\t\t}\n\t\t\t\t\tnext_filter[ filters[filters.length-1] ] = filters[0]\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif(refresh_handler == null){\n\t\t\trefresh_handler = $.RegisterForUnhandledEvent('PanoramaComponent_PartyBrowser_Refresh', _PartyBrowserRefresh)\n\t\t}\n\t\tif(refresh_button == null){\n\t\t\trefresh_button = $.GetContextPanel().FindChildTraverse(\"JsFriendsList-lobbies-toolbar-button-refresh\")\n\t\t}\n\t}\n\n\tvar _Destroy = function(){\n\t\tif (panel_invite_all != null) {\n\t\t\tpanel_invite_all.RemoveAndDeleteChildren()\n\t\t\tpanel_invite_all.DeleteAsync(0.0)\n\t\t\tpanel_invite_all = null\n\t\t}\n\t\tif(refresh_handler != null){\n\t\t\t$.UnregisterForUnhandledEvent('PanoramaComponent_PartyBrowser_Refresh', refresh_handler)\n\t\t\trefresh_handler = null\n\t\t}\n\t}\n\n\treturn {\n\t\tcreate: _Create,\n\t\tdestroy: _Destroy\n\t}\n", "CSGOMainMenu")()
local var_0_7 = "<root>\n\t<styles>\n\t\t<include src=\"file://{resources}/styles/csgostyles.css\" />\n\t\t<include src=\"file://{resources}/styles/friendslist.css\" />\n\t\t<include src=\"file://{resources}/styles/playercard.css\" />\n\t\t<include src=\"file://{resources}/styles/friendtile.css\" />\n\t</styles>\n\t<Panel>\n\t\t<Button id=\"JsFriendsList-lobbies-toolbar-button-inviteall\" class=\"IconButton\">\n\t\t\t<Image src=\"file://{images}/icons/ui/invite.svg\"/>\n\t\t</Button>\n\t</Panel>\n</root>\n"
local var_0_8 = panorama.loadstring("\tvar panel_tabs, panel_steam_friends, panel_extended_friends, panel_extended_friends_separator, panel_list\n\tvar custom_friends_xuids = []\n\tvar custom_friends_enabled = false\n\tvar custom_friends_status = {}\n\n\t// invite button\n\tvar invite_btn_pressed = false\n\tvar invite_btn_xuid, invite_btn_time, invite_btn_source\n\n\t// FriendsListAPI hook stuff\n\tvar orig = {\n\t\tGetCount: FriendsListAPI.GetCount,\n\t\tGetXuidByIndex: FriendsListAPI.GetXuidByIndex,\n\t\tGetFriendStatus: FriendsListAPI.GetFriendStatus,\n\t\tGetFriendStatusBucket: FriendsListAPI.GetFriendStatusBucket,\n\t\tGetFriendRelationship: FriendsListAPI.GetFriendRelationship,\n\t\tIsFriendInvited: FriendsListAPI.IsFriendInvited\n\t}\n\n\tvar hk_extra_xuids = []\n\tvar hk_extra_xuids_count_prev\n\tvar real_count\n\n\tFriendsListAPI.GetCount = function(){\n\t\treal_count = orig.GetCount.call(this)\n\n\t\treturn real_count+hk_extra_xuids.length\n\t}\n\n\tFriendsListAPI.GetXuidByIndex = function(index){\n\t\tif(index >= real_count){\n\t\t\treturn hk_extra_xuids[index-real_count]\n\t\t}\n\n\t\treturn orig.GetXuidByIndex.call(this, index)\n\t}\n\n\tFriendsListAPI.GetFriendStatus = function(xuid){\n\t\tvar result = orig.GetFriendStatus.call(this, xuid)\n\t\tif(result == \"\" && hk_extra_xuids.includes(xuid)){\n\t\t\treturn \"Custom Friend\"\n\t\t}\n\n\t\treturn result\n\t}\n\n\tFriendsListAPI.GetFriendStatusBucket = function(xuid){\n\t\tvar result = orig.GetFriendStatusBucket.call(this, xuid)\n\t\tif(result == \"Offline\" && hk_extra_xuids.includes(xuid)){\n\t\t\t// return \"Offline\"\n\t\t}\n\n\t\treturn result\n\t}\n\n\tFriendsListAPI.GetFriendRelationship = function(xuid){\n\t\tvar result = orig.GetFriendRelationship.call(this, xuid)\n\t\tif(result == \"none\" && hk_extra_xuids.includes(xuid)){\n\t\t\treturn \"friend\"\n\t\t}\n\n\t\treturn result\n\t}\n\n\tvar _Create = function(layout){\n\t\tvar panel_friends = $.GetContextPanel().FindChildTraverse(\"JsFriendsList-friends\")\n\t\tpanel_list = panel_friends.FindChildTraverse(\"JsFriendsList-List\")\n\n\t\tvar panel_container = $.CreatePanel('Panel', panel_friends, 'FriendsListTabs')\n\t\tif (panel_container != null) {\n\t\t\tif (panel_container.BLoadLayoutFromString(layout, false, false)) {\n\t\t\t\tpanel_container.visible = true\n\n\t\t\t\tpanel_tabs = panel_container.GetChild(0)\n\t\t\t\tpanel_tabs.SetParent(panel_friends)\n\t\t\t\tpanel_friends.MoveChildBefore(panel_tabs, panel_friends.GetChild(0))\n\n\t\t\t\tpanel_container.RemoveAndDeleteChildren()\n\t\t\t\tpanel_container.DeleteAsync(0.0)\n\n\t\t\t\tpanel_steam_friends = panel_tabs.FindChildTraverse(\"JsFriendsList-SteamFriends\")\n\t\t\t\tpanel_extended_friends = panel_tabs.FindChildTraverse(\"JsFriendsList-ExtendedFriends\")\n\t\t\t\tpanel_extended_friends_separator = panel_tabs.FindChildTraverse(\"JsFriendsList-ExtendedFriendsSeparator\")\n\n\t\t\t\tif(panel_steam_friends != null){\n\t\t\t\t\tpanel_steam_friends.SetPanelEvent(\"onactivate\", function(){\n\t\t\t\t\t\tcustom_friends_enabled = false\n\t\t\t\t\t\t_UpdateCustomFriends()\n\t\t\t\t\t})\n\t\t\t\t}\n\n\t\t\t\tif(panel_extended_friends != null){\n\t\t\t\t\tpanel_extended_friends.SetPanelEvent(\"onactivate\", function(){\n\t\t\t\t\t\tcustom_friends_enabled = true\n\t\t\t\t\t\t_UpdateCustomFriends()\n\t\t\t\t\t})\n\t\t\t\t}\n\n\t\t\t\tvar panel_invite_all = panel_tabs.FindChildTraverse(\"JsFriendsList-friends-toolbar-button-invite\")\n\t\t\t\tif(panel_invite_all != null){\n\t\t\t\t\tpanel_invite_all.SetPanelEvent(\"onactivate\", function(){\n\t\t\t\t\t\tinvite_btn_pressed = true\n\t\t\t\t\t})\n\t\t\t\t\tpanel_invite_all.SetPanelEvent(\"oncontextmenu\", function(){\n\t\t\t\t\t\tvar count = FriendsListAPI.GetCount()\n\n\t\t\t\t\t\tfor(i=0; i < count; i++){\n\t\t\t\t\t\t\tFriendsListAPI.ActionInviteFriend(FriendsListAPI.GetXuidByIndex(i), \"\")\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\tvar panel_copy_friend_code = panel_tabs.FindChildTraverse(\"JsFriendsList-friends-toolbar-button-copy-friend-code\")\n\t\t\t\tif(panel_copy_friend_code != null){\n\t\t\t\t\tpanel_copy_friend_code.SetPanelEvent(\"onactivate\", function(){\n\t\t\t\t\t\tvar yourCode = MyPersonaAPI.GetFriendCode()\n\t\t\t\t\t\tSteamOverlayAPI.CopyTextToClipboard(yourCode)\n\t\t\t\t\t\tUiToolkitAPI.ShowTextTooltip('JsFriendsList-friends-toolbar-button-copy-friend-code', 'Copied your code to clipboard')\n\t\t\t\t\t})\n\t\t\t\t}\n\n\t\t\t\t_UpdateCustomFriends()\n\t\t\t}\n\t\t}\n\t}\n\n\tvar _Destroy = function(){\n\t\tif (panel_tabs != null){\n\t\t\tpanel_tabs.RemoveAndDeleteChildren()\n\t\t\tpanel_tabs.DeleteAsync(0.0)\n\t\t\tpanel_tabs = null\n\t\t}\n\n\t\t// restore\n\t\tfor(var key in orig){\n\t\t\tFriendsListAPI[key] = orig[key]\n\t\t}\n\t}\n\n\tvar _UpdateCustomFriends = function(){\n\t\tvar has_custom_friends = custom_friends_xuids.length > 0\n\n\t\tif(panel_steam_friends != null){\n\t\t\tpanel_steam_friends.visible = has_custom_friends;\n\t\t}\n\t\tif(panel_extended_friends != null){\n\t\t\tpanel_extended_friends.visible = has_custom_friends;\n\t\t}\n\t\tif(panel_extended_friends_separator != null){\n\t\t\tpanel_extended_friends_separator.visible = has_custom_friends;\n\t\t}\n\n\t\thk_extra_xuids = (has_custom_friends && custom_friends_enabled) ? custom_friends_xuids : []\n\t\thk_extra_xuids = hk_extra_xuids.filter(function(xuid){\n\t\t\treturn orig.GetFriendRelationship.call(FriendsListAPI, xuid) == \"none\"\n\t\t})\n\n\t\tif(hk_extra_xuids.length != hk_extra_xuids_count_prev){\n\t\t\thk_extra_xuids.forEach(function(xuid){\n\t\t\t\tvar panel = panel_list.FindChildTraverse(xuid)\n\t\t\t\tif(panel != null){\n\t\t\t\t\tpanel.DeleteAsync(0.0)\n\t\t\t\t}\n\t\t\t})\n\t\t\t$.DispatchEvent(\"PanoramaComponent_FriendsList_RebuildFriendsList\")\n\n\t\t\thk_extra_xuids_count_prev = hk_extra_xuids.length\n\t\t}\n\t}\n\n\tvar _SetCustomFriends = function(xuids){\n\t\tcustom_friends_xuids = xuids || []\n\n\t\t_UpdateCustomFriends()\n\t}\n\n\tvar _InviteBtnPressed = function(){\n\t\tif(invite_btn_pressed){\n\t\t\tinvite_btn_pressed = false\n\t\t\treturn true\n\t\t}\n\t\treturn invite_btn_pressed\n\t}\n\n\tvar _InviteBtnCallback = function(text){\n\t\tinvite_btn_xuid = null\n\t\ttext = text.replace(/[\\n\\s]/g, \"\")\n\n\t\t// friend code check\n\t\tif(text.match(/^[A-Z0-9]{5}\\-[A-Z0-9]{4}$/)){\n\t\t\tinvite_btn_source = \"friend code\"\n\t\t\tinvite_btn_xuid = FriendsListAPI.GetXuidFromFriendCode(text)\n\t\t} else {\n\t\t\tvar match = text.match(/^(?:https:\\/\\/steamcommunity.com\\/profiles\\/)?(765\\d{14})\\/?/)\n\t\t\tif(match){\n\t\t\t\tinvite_btn_source = \"steamid\"\n\t\t\t\tinvite_btn_xuid = match[1]\n\t\t\t}\n\t\t}\n\n\t\tif(invite_btn_xuid == MyPersonaAPI.GetXuid()){\n\t\t\tUiToolkitAPI.ShowTextTooltip(\"JsFriendsList-friends-toolbar-button-invite\", \"You can't invite yourself!\")\n\t\t\tinvite_btn_xuid = null\n\t\t} else if(invite_btn_xuid != null && LobbyAPI.IsPartyMember(invite_btn_xuid)) {\n\t\t\tUiToolkitAPI.ShowTextTooltip(\"JsFriendsList-friends-toolbar-button-invite\", \"Player already in lobby!\")\n\t\t\tinvite_btn_xuid = null\n\t\t} else if(invite_btn_xuid != null){\n\t\t\tUiToolkitAPI.ShowTextTooltip(\"JsFriendsList-friends-toolbar-button-invite\", \"Loading...\")\n\t\t\tinvite_btn_time = Date.now()\n\t\t\t_InviteBtnJob()\n\t\t} else {\n\t\t\tUiToolkitAPI.ShowTextTooltip(\"JsFriendsList-friends-toolbar-button-invite\", \"Invalid friendcode / steamid\")\n\t\t}\n\t}\n\n\tvar _InviteBtnJob = function(){\n\t\tif(invite_btn_xuid != null){\n\t\t\tvar name = FriendsListAPI.GetFriendName(invite_btn_xuid)\n\n\t\t\tif(name == \"\" && Date.now()-invite_btn_time > 5*1000)\n\t\t\t\tname = \"unknown\"\n\n\t\t\tif(name != \"\"){\n\t\t\t\tFriendsListAPI.ActionInviteFriend(invite_btn_xuid, '')\n\t\t\t\tUiToolkitAPI.ShowTextTooltip('JsFriendsList-friends-toolbar-button-invite', `Invited ${name} by ${invite_btn_source}!`)\n\t\t\t\tinvite_btn_xuid = null\n\t\t\t\tinvite_btn_time = null\n\t\t\t\tinvite_btn_source = null\n\t\t\t}\n\n\t\t\treturn name == \"\"\n\t\t}\n\t}\n\n\treturn {\n\t\tcreate: _Create,\n\t\tdestroy: _Destroy,\n\t\tset_custom_friends: _SetCustomFriends,\n\t\tinvite_btn_pressed: _InviteBtnPressed,\n\t\tinvite_btn_callback: _InviteBtnCallback,\n\t\tinvite_btn_job: _InviteBtnJob\n\t}\n", "CSGOMainMenu")()
local var_0_9 = "<root>\n\t<styles>\n\t\t<include src=\"file://{resources}/styles/csgostyles.css\" />\n\t\t<include src=\"file://{resources}/styles/friendslist.css\" />\n\t\t<include src=\"file://{resources}/styles/playercard.css\" />\n\t\t<include src=\"file://{resources}/styles/friendtile.css\" />\n\t</styles>\n\t<Panel>\n\t\t<Panel class=\"friendslist-navbar friendslist-navbar--tab-settings expand\">\n\t\t\t<Panel class= \"horizontal-align-left vertical-center left-right-flow\" >\n\t\t\t\t<RadioButton id=\"JsFriendsList-SteamFriends\" class=\"IconButton friendslist-navbar-lobby-button\" selected=\"true\"\n\t\t\t\t\tgroup=\"JsFriendsList-friends-toolbar-button-modegroup\"\n\t\t\t\t\tonmouseover=\"UiToolkitAPI.ShowTextTooltip('JsFriendsList-SteamFriends', 'Steam Friends');\"\n\t\t\t\t\tonmouseout=\"UiToolkitAPI.HideTextTooltip();\">\n\t\t\t\t\t<Image src=\"file://{images}/icons/ui/player.svg\"/>\n\t\t\t\t</RadioButton>\n\t\t\t\t<RadioButton id=\"JsFriendsList-ExtendedFriends\" class=\"IconButton friendslist-navbar-lobby-button\"\n\t\t\t\t\tgroup=\"JsFriendsList-friends-toolbar-button-modegroup\"\n\t\t\t\t\tonmouseover=\"UiToolkitAPI.ShowTextTooltip('JsFriendsList-ExtendedFriends', 'Extended Friends');\"\n\t\t\t\t\tonmouseout=\"UiToolkitAPI.HideTextTooltip();\">\n\t\t\t\t\t<Image src=\"file://{images}/icons/ui/lobby.svg\"/>\n\t\t\t\t</RadioButton>\n\t\t\t\t<Panel id=\"JsFriendsList-ExtendedFriendsSeparator\" class=\"friendslist-navbar-spacer-fit-width\"/>\n\t\t\t\t<Button id=\"JsFriendsList-friends-toolbar-button-copy-friend-code\" class=\"IconButton\"\n\t\t\t\t\tonmouseover=\"UiToolkitAPI.ShowTextTooltip('JsFriendsList-friends-toolbar-button-copy-friend-code', 'Copy your friend code');\"\n\t\t\t\t\tonmouseout=\"UiToolkitAPI.HideTextTooltip();\">\n\t\t\t\t\t<Image src=\"file://{images}/icons/ui/link.svg\"/>\n\t\t\t\t</Button>\n\t\t\t\t<Button id=\"JsFriendsList-friends-toolbar-button-invite\" class=\"IconButton\"\n\t\t\t\t\tonmouseover=\"UiToolkitAPI.ShowTextTooltip('JsFriendsList-friends-toolbar-button-invite', 'Left-click: Invite from clipboard\\nRight-click: Invite all friends');\"\n\t\t\t\t\tonmouseout=\"UiToolkitAPI.HideTextTooltip();\">\n\t\t\t\t\t<Image src=\"file://{images}/icons/ui/invite.svg\"/>\n\t\t\t\t</Button>\n\t\t\t</Panel>\n\t\t</Panel>\n\t</Panel>\n</root>\n"
local var_0_10 = panorama.loadstring("\tvar debug = false\n\n\tvar custom_panels = []\n\tvar show_accept_popup_handler\n\n\tvar _UpdateAcceptPopup = function(){\n\t\t$.GetContextPanel().FindChildrenWithClassTraverse(\"accept-match-container\").forEach(function(panel){\n\t\t\tvar panel_data_container = panel.FindChildTraverse(\"AcceptMatchDataContainer\")\n\t\t\tvar panel_parent = panel_data_container.GetParent()\n\n\t\t\tvar panel_container = $.CreatePanel('Panel', panel_parent, 'ExtraOptions-Container')\n\t\t\tif (panel_container != null) {\n\t\t\t\tif (panel_container.BLoadLayoutFromString(layout, false, false)) {\n\t\t\t\t\tvar panel_extra_options = panel_container.FindChild(\"ExtraOptions\")\n\n\t\t\t\t\tpanel_extra_options.visible = true\n\n\t\t\t\t\t// swap that mf parent and \"extract\" panel_extra_options from the container panel\n\t\t\t\t\tpanel_extra_options.SetParent(panel_parent)\n\n\t\t\t\t\t// remove comtainer that we loaded the layout into\n\t\t\t\t\tpanel_container.RemoveAndDeleteChildren()\n\t\t\t\t\tpanel_container.DeleteAsync(0.0)\n\n\t\t\t\t\t// casual accept, for example\n\t\t\t\t\tvar is_auto = panel_data_container.BHasClass(\"auto\")\n\n\t\t\t\t\t// cancel is visible if we're leader and not auto accepting\n\t\t\t\t\tvar button_cancel_search = panel_extra_options.FindChildTraverse(\"ExtraOptions-Cancel\")\n\t\t\t\t\tif(button_cancel_search){\n\t\t\t\t\t\tbutton_cancel_search.visible = !is_auto || debug\n\t\t\t\t\t\tbutton_cancel_search.SetHasClass(\"hidden\", !button_cancel_search.visible)\n\t\t\t\t\t}\n\n\t\t\t\t\t// leave is visible if we're in a public lobby and not auto accepting\n\t\t\t\t\tvar button_leave_lobby = panel_extra_options.FindChildTraverse(\"ExtraOptions-Leave\")\n\t\t\t\t\tif(button_leave_lobby){\n\t\t\t\t\t\tbutton_leave_lobby.visible = (!is_auto && PartyListAPI.GetPartySessionSetting(\"system/network\") == \"LIVE\") || debug\n\t\t\t\t\t\tbutton_leave_lobby.SetHasClass(\"hidden\", !button_leave_lobby.visible)\n\t\t\t\t\t}\n\n\t\t\t\t\tcustom_panels.push(panel_extra_options)\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t}\n\n\tvar _Create = function(_layout){\n\t\tlayout = _layout\n\n\t\tif(show_accept_popup_handler == null){\n\t\t\tshow_accept_popup_handler = $.RegisterForUnhandledEvent('ShowAcceptPopup', _UpdateAcceptPopup)\n\t\t}\n\t\t_UpdateAcceptPopup()\n\t}\n\n\tvar _Destroy = function(){\n\t\tcustom_panels.forEach(function(panel){\n\t\t\ttry {\n\t\t\t\tpanel.RemoveAndDeleteChildren()\n\t\t\t\tpanel.DeleteAsync(0.0)\n\t\t\t} catch(e){}\n\t\t})\n\n\t\tif(show_accept_popup_handler){\n\t\t\t$.UnregisterForUnhandledEvent('ShowAcceptPopup', show_accept_popup_handler)\n\t\t\tshow_accept_popup_handler = null\n\t\t}\n\t}\n\n\treturn {\n\t\tcreate: _Create,\n\t\tdestroy: _Destroy\n\t}\n", "CSGOPopups")()
local var_0_11 = "<root>\n\t<styles>\n\t\t<include src=\"file://{resources}/styles/gamestyles.css\" />\n\t\t<include src=\"file://{resources}/styles/popups/popups_shared.css\" />\n\t</styles>\n\t<Panel>\n\t\t<Panel id=\"ExtraOptions\" class= \"horizontal-align-right right-left-flow\" style=\"margin: 4px;\">\n\t\t\t<Button id=\"ExtraOptions-Cancel\" class=\"IconButton\" style=\"margin: 4px; tooltip-position: bottom; tooltip-body-position: 0% 0%;\"\n\t\t\t\tonactivate=\"LobbyAPI.StopMatchmaking();\"\n\t\t\t\tonmouseover=\"UiToolkitAPI.ShowTextTooltip('ExtraOptions-CancelTooltip', '#tooltip_canelsearch');\"\n\t\t\t\tonmouseout=\"UiToolkitAPI.HideTextTooltip();\">\n\t\t\t\t<Panel id=\"ExtraOptions-CancelTooltip\" style=\"width: 80%; height: 80%; tooltip-position: bottom; tooltip-body-position: 0% 0%;\" />\n\t\t\t\t<Image src=\"file://{images}/icons/ui/cancel.svg\" style=\"margin: 4px; opacity: 0.55;\" />\n\t\t\t</Button>\n\t\t\t<Button id=\"ExtraOptions-Leave\" class=\"IconButton\" style=\"margin: 4px; padding: 0px;\"\n\t\t\t\tonactivate=\"LobbyAPI.CloseSession();\"\n\t\t\t\tonmouseover=\"UiToolkitAPI.ShowTextTooltip('ExtraOptions-LeaveTooltip', '#tooltip_leave_lobby');\"\n\t\t\t\tonmouseout=\"UiToolkitAPI.HideTextTooltip();\">\n\t\t\t\t<Panel id=\"ExtraOptions-LeaveTooltip\" style=\"width: 80%; height: 80%; tooltip-position: bottom; tooltip-body-position: 0% 0%;\" />\n\t\t\t\t<Image src=\"file://{images}/icons/ui/leave.svg\" style=\"margin: 4px; opacity: 0.55;\" />\n\t\t\t</Button>\n\t\t</Panel>\n\t</Panel>\n</root>\n"
local var_0_12 = panorama.loadstring("\tvar cancel_btn, session_update_handler\n\n\tvar _IsSearching = function(){\n\t\tvar searchingStatus = LobbyAPI.GetMatchmakingStatusString()\n\t\treturn searchingStatus !== '' && searchingStatus !== undefined\n\t}\n\n\tvar _SetCancelBtnVisible = function(visible){\n\t\tif(cancel_btn\t!= null){\n\t\t\tcancel_btn.visible = visible\n\t\t\tcancel_btn.SetHasClass(\"hidden\", !visible)\n\t\t}\n\t}\n\n\tvar _UpdateVisibility = function(){\n\t\t_SetCancelBtnVisible(_IsSearching())\n\t}\n\n\tvar _Create = function(){\n\t\tif(session_update_handler == null){\n\t\t\tsession_update_handler = $.RegisterForUnhandledEvent(\"PanoramaComponent_Lobby_MatchmakingSessionUpdate\", _MatchmakingSessionsUpdate)\n\t\t}\n\n\t\tcancel_btn = $.GetContextPanel().FindChildTraverse(\"PartyListHeader\").FindChildTraverse(\"PartyCancelBtn\")\n\n\t\t_UpdateVisibility()\n\t}\n\n\tvar _MatchmakingSessionsUpdate = function(){\n\t\t_UpdateVisibility()\n\t\t$.Schedule(0.0, _UpdateVisibility)\n\t}\n\n\tvar _Destroy = function(){\n\t\tif(session_update_handler != null){\n\t\t\t$.UnregisterForUnhandledEvent(\"PanoramaComponent_Lobby_MatchmakingSessionUpdate\", session_update_handler)\n\t\t\tsession_update_handler = null\n\t\t}\n\n\t\t_SetCancelBtnVisible(_IsSearching() && LobbyAPI.BIsHost())\n\t}\n\n\treturn {\n\t\tcreate: _Create,\n\t\tdestroy: _Destroy\n\t}\n", "CSGOMainMenu")()

var_0_6.create(var_0_7)
var_0_8.create(var_0_9)
var_0_10.create(var_0_11)
var_0_12.create()
client.set_event_callback("shutdown", function()
	var_0_6.destroy()
	var_0_8.destroy()
	var_0_10.destroy()
	var_0_12.destroy()
end)

local var_0_13 = "^765" .. string.rep("%d", 14) .. "$"
local var_0_14 = 0
local var_0_15 = false

client.set_event_callback("paint_ui", function()
	if globals.realtime() > var_0_14 + 15 then
		local var_3_0 = {}
		local var_3_1 = readfile("friends.txt")

		if var_3_1 ~= nil then
			for iter_3_0 in var_3_1:gmatch("[^\r\n]+") do
				iter_3_0 = iter_3_0:gsub(" ", "")

				if iter_3_0:match(var_0_13) then
					table.insert(var_3_0, iter_3_0)
				end
			end
		end

		var_0_8.set_custom_friends(var_3_0)

		var_0_14 = globals.realtime()
	end

	if var_0_15 and not var_0_8.invite_btn_job() then
		var_0_15 = false
	end

	if var_0_0 ~= nil and var_0_8.invite_btn_pressed() then
		local var_3_2 = var_0_0()

		if type(var_3_2) == "string" then
			var_0_8.invite_btn_callback(var_3_2)

			var_0_15 = true
		end
	end
end)
